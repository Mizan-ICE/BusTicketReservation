{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { forkJoin } from 'rxjs';\nimport { SeatStatus } from '../../models/bus.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../../services/bus.service\";\nimport * as i4 from \"@angular/common\";\nfunction SeatSelectionComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 5);\n    i0.ÉµÉµelement(1, \"div\", 6);\n    i0.ÉµÉµelementStart(2, \"p\");\n    i0.ÉµÉµtext(3, \"Loading bus details...\");\n    i0.ÉµÉµelementEnd()();\n  }\n}\nfunction SeatSelectionComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 7);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction SeatSelectionComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 8);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate1(\" ? \", ctx_r0.successMessage, \" \");\n  }\n}\nfunction SeatSelectionComponent_div_4_div_70_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 58);\n    i0.ÉµÉµlistener(\"click\", function SeatSelectionComponent_div_4_div_70_div_1_Template_div_click_0_listener() {\n      const seat_r4 = i0.ÉµÉµrestoreView(_r3).$implicit;\n      const ctx_r0 = i0.ÉµÉµnextContext(3);\n      return i0.ÉµÉµresetView(ctx_r0.selectSeatMultiple(seat_r4));\n    });\n    i0.ÉµÉµelementStart(1, \"span\", 59);\n    i0.ÉµÉµtext(2);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(3, \"span\", 60);\n    i0.ÉµÉµtext(4);\n    i0.ÉµÉµelementEnd()();\n  }\n  if (rf & 2) {\n    const seat_r4 = ctx.$implicit;\n    const ctx_r0 = i0.ÉµÉµnextContext(3);\n    i0.ÉµÉµclassMap(ctx_r0.getSeatClass(seat_r4));\n    i0.ÉµÉµproperty(\"title\", \"Seat \" + seat_r4.seatNumber);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(ctx_r0.getSeatIcon(seat_r4));\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(seat_r4.seatNumber);\n  }\n}\nfunction SeatSelectionComponent_div_4_div_70_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelement(0, \"div\", 61);\n  }\n}\nfunction SeatSelectionComponent_div_4_div_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 55);\n    i0.ÉµÉµtemplate(1, SeatSelectionComponent_div_4_div_70_div_1_Template, 5, 5, \"div\", 56)(2, SeatSelectionComponent_div_4_div_70_div_2_Template, 1, 0, \"div\", 57);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const row_r5 = ctx.$implicit;\n    const rowIndex_r6 = ctx.index;\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngForOf\", row_r5);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", row_r5.length > 2 && rowIndex_r6 === 0);\n  }\n}\nfunction SeatSelectionComponent_div_4_div_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 62)(1, \"div\", 63)(2, \"strong\");\n    i0.ÉµÉµtext(3, \"Selected Seat:\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtext(4);\n    i0.ÉµÉµelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext(2);\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµtextInterpolate1(\" \", ctx_r0.selectedSeats.join(\", \"), \" \");\n  }\n}\nfunction SeatSelectionComponent_div_4_div_82_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"span\");\n    i0.ÉµÉµtext(1, \"Name is required\");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SeatSelectionComponent_div_4_div_82_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"span\");\n    i0.ÉµÉµtext(1, \"Name must be at least 2 characters\");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SeatSelectionComponent_div_4_div_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 64);\n    i0.ÉµÉµtemplate(1, SeatSelectionComponent_div_4_div_82_span_1_Template, 2, 0, \"span\", 4)(2, SeatSelectionComponent_div_4_div_82_span_2_Template, 2, 0, \"span\", 4);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_2_0;\n    let tmp_3_0;\n    const ctx_r0 = i0.ÉµÉµnextContext(2);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", (tmp_2_0 = ctx_r0.bookingForm.get(\"passengerName\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"required\"]);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", (tmp_3_0 = ctx_r0.bookingForm.get(\"passengerName\")) == null ? null : tmp_3_0.errors == null ? null : tmp_3_0.errors[\"minlength\"]);\n  }\n}\nfunction SeatSelectionComponent_div_4_div_87_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"span\");\n    i0.ÉµÉµtext(1, \"Mobile number is required\");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SeatSelectionComponent_div_4_div_87_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"span\");\n    i0.ÉµÉµtext(1, \"Please enter a valid phone number\");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SeatSelectionComponent_div_4_div_87_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 64);\n    i0.ÉµÉµtemplate(1, SeatSelectionComponent_div_4_div_87_span_1_Template, 2, 0, \"span\", 4)(2, SeatSelectionComponent_div_4_div_87_span_2_Template, 2, 0, \"span\", 4);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_2_0;\n    let tmp_3_0;\n    const ctx_r0 = i0.ÉµÉµnextContext(2);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", (tmp_2_0 = ctx_r0.bookingForm.get(\"mobileNumber\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"required\"]);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", (tmp_3_0 = ctx_r0.bookingForm.get(\"mobileNumber\")) == null ? null : tmp_3_0.errors == null ? null : tmp_3_0.errors[\"pattern\"]);\n  }\n}\nfunction SeatSelectionComponent_div_4_option_94_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"option\", 65);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const point_r7 = ctx.$implicit;\n    i0.ÉµÉµproperty(\"value\", point_r7);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate1(\" \", point_r7, \" \");\n  }\n}\nfunction SeatSelectionComponent_div_4_div_95_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 64);\n    i0.ÉµÉµtext(1, \" Please select a boarding point \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SeatSelectionComponent_div_4_option_102_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"option\", 65);\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const point_r8 = ctx.$implicit;\n    i0.ÉµÉµproperty(\"value\", point_r8);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate1(\" \", point_r8, \" \");\n  }\n}\nfunction SeatSelectionComponent_div_4_div_103_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 64);\n    i0.ÉµÉµtext(1, \" Please select a dropping point \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SeatSelectionComponent_div_4_div_104_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 66)(1, \"h3\");\n    i0.ÉµÉµtext(2, \"Booking Summary\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(3, \"div\", 67)(4, \"span\");\n    i0.ÉµÉµtext(5, \"Seat Number:\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(6, \"strong\");\n    i0.ÉµÉµtext(7);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(8, \"div\", 67)(9, \"span\");\n    i0.ÉµÉµtext(10, \"Fare:\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(11, \"strong\");\n    i0.ÉµÉµtext(12);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelement(13, \"div\", 68);\n    i0.ÉµÉµelementStart(14, \"div\", 69)(15, \"span\");\n    i0.ÉµÉµtext(16, \"Total Amount:\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(17, \"strong\");\n    i0.ÉµÉµtext(18);\n    i0.ÉµÉµelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext(2);\n    i0.ÉµÉµadvance(7);\n    i0.ÉµÉµtextInterpolate(ctx_r0.selectedSeats.join(\", \"));\n    i0.ÉµÉµadvance(5);\n    i0.ÉµÉµtextInterpolate1(\"?\", ctx_r0.busDetails.price, \"\");\n    i0.ÉµÉµadvance(6);\n    i0.ÉµÉµtextInterpolate1(\"?\", ctx_r0.busDetails.price * ctx_r0.selectedSeats.length, \"\");\n  }\n}\nfunction SeatSelectionComponent_div_4_span_106_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"span\");\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext(2);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate1(\" \", ctx_r0.selectedSeats.length > 0 ? \"Confirm Booking\" : \"Select a Seat First\", \" \");\n  }\n}\nfunction SeatSelectionComponent_div_4_span_107_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"span\");\n    i0.ÉµÉµtext(1, \" Processing Booking... \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction SeatSelectionComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\")(1, \"div\", 9)(2, \"button\", 10);\n    i0.ÉµÉµlistener(\"click\", function SeatSelectionComponent_div_4_Template_button_click_2_listener() {\n      i0.ÉµÉµrestoreView(_r2);\n      const ctx_r0 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r0.goBack());\n    });\n    i0.ÉµÉµtext(3, \" Back to Search \");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"div\", 11)(5, \"div\", 12)(6, \"h1\");\n    i0.ÉµÉµtext(7);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(8, \"p\", 13);\n    i0.ÉµÉµtext(9);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(10, \"div\", 14)(11, \"span\", 15);\n    i0.ÉµÉµtext(12, \"Fare\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(13, \"span\", 16);\n    i0.ÉµÉµtext(14);\n    i0.ÉµÉµelementEnd()()();\n    i0.ÉµÉµelementStart(15, \"div\", 17)(16, \"div\", 18)(17, \"div\", 19)(18, \"span\", 20);\n    i0.ÉµÉµtext(19, \"\\uD83D\\uDCCD\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(20, \"div\")(21, \"p\", 21);\n    i0.ÉµÉµtext(22);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(23, \"p\", 22);\n    i0.ÉµÉµtext(24);\n    i0.ÉµÉµelementEnd()()();\n    i0.ÉµÉµelementStart(25, \"div\", 23)(26, \"div\", 24);\n    i0.ÉµÉµtext(27, \"\\u2192\");\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(28, \"div\", 19)(29, \"span\", 20);\n    i0.ÉµÉµtext(30, \"\\uD83D\\uDCCD\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(31, \"div\")(32, \"p\", 21);\n    i0.ÉµÉµtext(33);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(34, \"p\", 22);\n    i0.ÉµÉµtext(35);\n    i0.ÉµÉµelementEnd()()()();\n    i0.ÉµÉµelementStart(36, \"div\", 25)(37, \"span\", 20);\n    i0.ÉµÉµtext(38, \"\\uD83D\\uDCC5\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(39, \"span\");\n    i0.ÉµÉµtext(40);\n    i0.ÉµÉµelementEnd()()()();\n    i0.ÉµÉµelementStart(41, \"div\", 26)(42, \"div\", 27)(43, \"h2\");\n    i0.ÉµÉµtext(44, \"\\uD83E\\uDE91 Select Your Seat\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(45, \"div\", 28)(46, \"div\", 29)(47, \"span\", 30);\n    i0.ÉµÉµtext(48, \"\\uD83D\\uDCBA\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(49, \"span\");\n    i0.ÉµÉµtext(50, \"Available\");\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(51, \"div\", 29)(52, \"span\", 31);\n    i0.ÉµÉµtext(53, \"\\u2713\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(54, \"span\");\n    i0.ÉµÉµtext(55, \"Selected\");\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(56, \"div\", 29)(57, \"span\", 32);\n    i0.ÉµÉµtext(58, \"\\uD83D\\uDD12\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(59, \"span\");\n    i0.ÉµÉµtext(60, \"Booked\");\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(61, \"div\", 29)(62, \"span\", 33);\n    i0.ÉµÉµtext(63, \"\\u2716\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(64, \"span\");\n    i0.ÉµÉµtext(65, \"Sold\");\n    i0.ÉµÉµelementEnd()()();\n    i0.ÉµÉµelementStart(66, \"div\", 34)(67, \"div\", 35);\n    i0.ÉµÉµtext(68, \"\\uD83D\\uDE97 Driver\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(69, \"div\", 36);\n    i0.ÉµÉµtemplate(70, SeatSelectionComponent_div_4_div_70_Template, 3, 2, \"div\", 37);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµtemplate(71, SeatSelectionComponent_div_4_div_71_Template, 5, 1, \"div\", 38);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(72, \"div\", 39)(73, \"h2\");\n    i0.ÉµÉµtext(74, \"\\uD83D\\uDCDD Booking Details\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(75, \"form\", 40);\n    i0.ÉµÉµlistener(\"ngSubmit\", function SeatSelectionComponent_div_4_Template_form_ngSubmit_75_listener() {\n      i0.ÉµÉµrestoreView(_r2);\n      const ctx_r0 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r0.onBookTicket());\n    });\n    i0.ÉµÉµelementStart(76, \"div\", 41)(77, \"label\", 42)(78, \"i\", 20);\n    i0.ÉµÉµtext(79, \"\\uD83D\\uDC64\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtext(80, \" Passenger Name * \");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelement(81, \"input\", 43);\n    i0.ÉµÉµtemplate(82, SeatSelectionComponent_div_4_div_82_Template, 3, 2, \"div\", 44);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(83, \"div\", 41)(84, \"label\", 45);\n    i0.ÉµÉµtext(85, \" \\uD83D\\uDCF1 Mobile Number * \");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelement(86, \"input\", 46);\n    i0.ÉµÉµtemplate(87, SeatSelectionComponent_div_4_div_87_Template, 3, 2, \"div\", 44);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(88, \"div\", 41)(89, \"label\", 47);\n    i0.ÉµÉµtext(90, \" \\uD83D\\uDE8F Boarding Point * \");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(91, \"select\", 48)(92, \"option\", 49);\n    i0.ÉµÉµtext(93, \"Select boarding point\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(94, SeatSelectionComponent_div_4_option_94_Template, 2, 2, \"option\", 50);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(95, SeatSelectionComponent_div_4_div_95_Template, 2, 0, \"div\", 44);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(96, \"div\", 41)(97, \"label\", 51);\n    i0.ÉµÉµtext(98, \" \\uD83C\\uDFC1 Dropping Point * \");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(99, \"select\", 52)(100, \"option\", 49);\n    i0.ÉµÉµtext(101, \"Select dropping point\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(102, SeatSelectionComponent_div_4_option_102_Template, 2, 2, \"option\", 50);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(103, SeatSelectionComponent_div_4_div_103_Template, 2, 0, \"div\", 44);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtemplate(104, SeatSelectionComponent_div_4_div_104_Template, 19, 3, \"div\", 53);\n    i0.ÉµÉµelementStart(105, \"button\", 54);\n    i0.ÉµÉµtemplate(106, SeatSelectionComponent_div_4_span_106_Template, 2, 1, \"span\", 4)(107, SeatSelectionComponent_div_4_span_107_Template, 2, 0, \"span\", 4);\n    i0.ÉµÉµelementEnd()()()()();\n  }\n  if (rf & 2) {\n    let tmp_12_0;\n    let tmp_13_0;\n    let tmp_14_0;\n    let tmp_15_0;\n    let tmp_16_0;\n    let tmp_18_0;\n    let tmp_19_0;\n    let tmp_21_0;\n    const ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(7);\n    i0.ÉµÉµtextInterpolate(ctx_r0.busDetails.companyName);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate2(\"\", ctx_r0.busDetails.busName, \" (\", ctx_r0.busDetails.busType, \")\");\n    i0.ÉµÉµadvance(5);\n    i0.ÉµÉµtextInterpolate1(\"?\", ctx_r0.busDetails.price, \"\");\n    i0.ÉµÉµadvance(8);\n    i0.ÉµÉµtextInterpolate(ctx_r0.busDetails.fromCity);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(ctx_r0.formatTime(ctx_r0.busDetails.startTime));\n    i0.ÉµÉµadvance(9);\n    i0.ÉµÉµtextInterpolate(ctx_r0.busDetails.toCity);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(ctx_r0.formatTime(ctx_r0.busDetails.arrivalTime));\n    i0.ÉµÉµadvance(5);\n    i0.ÉµÉµtextInterpolate(ctx_r0.formatDate(ctx_r0.busDetails.journeyDate));\n    i0.ÉµÉµadvance(30);\n    i0.ÉµÉµproperty(\"ngForOf\", ctx_r0.getSeatLayout());\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", ctx_r0.selectedSeats.length > 0);\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµproperty(\"formGroup\", ctx_r0.bookingForm);\n    i0.ÉµÉµadvance(6);\n    i0.ÉµÉµclassProp(\"error\", ((tmp_12_0 = ctx_r0.bookingForm.get(\"passengerName\")) == null ? null : tmp_12_0.invalid) && ((tmp_12_0 = ctx_r0.bookingForm.get(\"passengerName\")) == null ? null : tmp_12_0.touched));\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", ((tmp_13_0 = ctx_r0.bookingForm.get(\"passengerName\")) == null ? null : tmp_13_0.invalid) && ((tmp_13_0 = ctx_r0.bookingForm.get(\"passengerName\")) == null ? null : tmp_13_0.touched));\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµclassProp(\"error\", ((tmp_14_0 = ctx_r0.bookingForm.get(\"mobileNumber\")) == null ? null : tmp_14_0.invalid) && ((tmp_14_0 = ctx_r0.bookingForm.get(\"mobileNumber\")) == null ? null : tmp_14_0.touched));\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", ((tmp_15_0 = ctx_r0.bookingForm.get(\"mobileNumber\")) == null ? null : tmp_15_0.invalid) && ((tmp_15_0 = ctx_r0.bookingForm.get(\"mobileNumber\")) == null ? null : tmp_15_0.touched));\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµclassProp(\"error\", ((tmp_16_0 = ctx_r0.bookingForm.get(\"boardingPoint\")) == null ? null : tmp_16_0.invalid) && ((tmp_16_0 = ctx_r0.bookingForm.get(\"boardingPoint\")) == null ? null : tmp_16_0.touched));\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµproperty(\"ngForOf\", ctx_r0.busDetails.boardingPoints);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", ((tmp_18_0 = ctx_r0.bookingForm.get(\"boardingPoint\")) == null ? null : tmp_18_0.invalid) && ((tmp_18_0 = ctx_r0.bookingForm.get(\"boardingPoint\")) == null ? null : tmp_18_0.touched));\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµclassProp(\"error\", ((tmp_19_0 = ctx_r0.bookingForm.get(\"droppingPoint\")) == null ? null : tmp_19_0.invalid) && ((tmp_19_0 = ctx_r0.bookingForm.get(\"droppingPoint\")) == null ? null : tmp_19_0.touched));\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµproperty(\"ngForOf\", ctx_r0.busDetails.droppingPoints);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", ((tmp_21_0 = ctx_r0.bookingForm.get(\"droppingPoint\")) == null ? null : tmp_21_0.invalid) && ((tmp_21_0 = ctx_r0.bookingForm.get(\"droppingPoint\")) == null ? null : tmp_21_0.touched));\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", ctx_r0.selectedSeats.length > 0);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"disabled\", ctx_r0.selectedSeats.length === 0 || ctx_r0.bookingForm.invalid || ctx_r0.bookingInProgress);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", !ctx_r0.bookingInProgress);\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", ctx_r0.bookingInProgress);\n  }\n}\nexport class SeatSelectionComponent {\n  constructor(route, router, fb, busService) {\n    this.route = route;\n    this.router = router;\n    this.fb = fb;\n    this.busService = busService;\n    this.busScheduleId = '';\n    this.busDetails = null;\n    this.selectedSeat = null;\n    this.selectedSeats = []; // Store seat numbers from API\n    this.selectedSeatIds = new Set(); // Track selected seat IDs\n    this.loading = false;\n    this.bookingInProgress = false;\n    this.errorMessage = '';\n    this.successMessage = '';\n    this.SeatStatus = SeatStatus;\n  }\n  ngOnInit() {\n    this.busScheduleId = this.route.snapshot.paramMap.get('id') || '';\n    this.bookingForm = this.fb.group({\n      passengerName: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(100)]],\n      mobileNumber: ['', [Validators.required, Validators.pattern(/^[0-9+]{10,20}$/)]],\n      boardingPoint: ['', Validators.required],\n      droppingPoint: ['', Validators.required]\n    });\n    this.loadBusDetails();\n  }\n  loadBusDetails() {\n    this.loading = true;\n    this.errorMessage = '';\n    this.busService.getBusScheduleDetails(this.busScheduleId).subscribe({\n      next: details => {\n        this.busDetails = details;\n        this.loading = false;\n      },\n      error: error => {\n        console.error('Error loading bus details:', error);\n        this.errorMessage = 'Failed to load bus details. Please try again.';\n        this.loading = false;\n      }\n    });\n  }\n  getSeatLayout() {\n    if (!this.busDetails || !this.busDetails.seats) return [];\n    const maxRow = Math.max(...this.busDetails.seats.map(s => s.row));\n    const maxCol = Math.max(...this.busDetails.seats.map(s => s.column));\n    const layout = [];\n    for (let row = 1; row <= maxRow; row++) {\n      const rowSeats = [];\n      for (let col = 1; col <= maxCol; col++) {\n        const seat = this.busDetails.seats.find(s => s.row === row && s.column === col);\n        if (seat) {\n          rowSeats.push(seat);\n        }\n      }\n      if (rowSeats.length > 0) {\n        layout.push(rowSeats);\n      }\n    }\n    return layout;\n  }\n  selectSeat(seat) {\n    if (seat.status === SeatStatus.Available) {\n      this.selectedSeat = seat;\n      this.selectedSeats = [seat.seatNumber];\n      this.selectedSeatIds.clear();\n      this.selectedSeatIds.add(seat.id);\n      this.errorMessage = '';\n    }\n  }\n  selectSeatMultiple(seat) {\n    if (seat.status !== SeatStatus.Available) return;\n    // Toggle selection\n    if (this.selectedSeatIds.has(seat.id)) {\n      this.selectedSeatIds.delete(seat.id);\n      this.selectedSeats = this.selectedSeats.filter(s => s !== seat.seatNumber);\n    } else {\n      this.selectedSeatIds.add(seat.id);\n      this.selectedSeats.push(seat.seatNumber);\n    }\n    // Update selectedSeat for backward compatibility\n    if (this.selectedSeats.length > 0) {\n      this.selectedSeat = seat;\n    } else {\n      this.selectedSeat = null;\n    }\n    this.errorMessage = '';\n    console.log('Selected seats:', this.selectedSeats);\n    console.log('Selected IDs:', [...this.selectedSeatIds]);\n  }\n  getSeatClass(seat) {\n    const classes = ['seat'];\n    if (seat.status === SeatStatus.Available) {\n      classes.push('available');\n      if (this.selectedSeatIds.has(seat.id)) {\n        classes.push('selected');\n      }\n    } else if (seat.status === SeatStatus.Booked) {\n      classes.push('booked');\n    } else if (seat.status === SeatStatus.Sold) {\n      classes.push('sold');\n    }\n    return classes.join(' ');\n  }\n  getSeatIcon(seat) {\n    if (this.selectedSeatIds.has(seat.id)) return 'âœ“';\n    if (seat.status === SeatStatus.Available) return 'ðŸ’º';\n    if (seat.status === SeatStatus.Booked) return 'ðŸ”’';\n    if (seat.status === SeatStatus.Sold) return 'âœ–';\n    return '';\n  }\n  onBookTicket() {\n    if (this.selectedSeats.length === 0) {\n      this.errorMessage = 'Please select at least one seat.';\n      return;\n    }\n    if (this.bookingForm.invalid) {\n      this.markFormGroupTouched(this.bookingForm);\n      this.errorMessage = 'Please fill in all required fields correctly.';\n      return;\n    }\n    this.bookingInProgress = true;\n    this.errorMessage = '';\n    this.successMessage = '';\n    // Get seat objects for selected seat IDs\n    const selectedSeatObjects = this.busDetails?.seats.filter(s => this.selectedSeatIds.has(s.id)) || [];\n    if (selectedSeatObjects.length === 0) {\n      this.errorMessage = 'Unable to find selected seats. Please try again.';\n      this.bookingInProgress = false;\n      return;\n    }\n    console.log('Booking seats:', selectedSeatObjects.map(s => s.seatNumber));\n    // Book all seats - make multiple API calls\n    const bookingRequests = selectedSeatObjects.map(seat => {\n      const bookingRequest = {\n        busScheduleId: this.busScheduleId,\n        seatId: seat.id,\n        passengerName: this.bookingForm.value.passengerName,\n        mobileNumber: this.bookingForm.value.mobileNumber,\n        boardingPoint: this.bookingForm.value.boardingPoint,\n        droppingPoint: this.bookingForm.value.droppingPoint\n      };\n      return this.busService.bookTicket(bookingRequest);\n    });\n    // Use forkJoin to wait for all bookings to complete\n    forkJoin(bookingRequests).subscribe({\n      next: tickets => {\n        console.log('All tickets booked:', tickets);\n        this.successMessage = `Booking successful! ${tickets.length} seat(s) booked.`;\n        this.bookingInProgress = false;\n        // Redirect to success page with first ticket ID\n        setTimeout(() => {\n          this.router.navigate(['/booking-success', tickets[0].id]);\n        }, 2000);\n      },\n      error: error => {\n        console.error('Booking error:', error);\n        this.errorMessage = error.error?.message || 'Booking failed. The seat(s) may no longer be available.';\n        this.bookingInProgress = false;\n        // Reload bus details to refresh seat availability\n        this.loadBusDetails();\n        this.selectedSeats = [];\n        this.selectedSeat = null;\n      }\n    });\n  }\n  goBack() {\n    this.router.navigate(['/']);\n  }\n  formatTime(time) {\n    const [hours, minutes] = time.split(':');\n    const hour = parseInt(hours);\n    const ampm = hour >= 12 ? 'PM' : 'AM';\n    const formattedHour = hour % 12 || 12;\n    return `${formattedHour}:${minutes} ${ampm}`;\n  }\n  formatDate(date) {\n    const d = new Date(date);\n    return d.toLocaleDateString('en-US', {\n      weekday: 'short',\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  }\n  markFormGroupTouched(formGroup) {\n    Object.keys(formGroup.controls).forEach(key => {\n      const control = formGroup.get(key);\n      control?.markAsTouched();\n    });\n  }\n  // Helper methods for seat-map component\n  getBookedSeats() {\n    if (!this.busDetails?.seats) return [];\n    return this.busDetails.seats.filter(s => s.status === SeatStatus.Booked || s.status === SeatStatus.Sold).map(s => s.seatNumber);\n  }\n  onSeatsChanged(seats) {\n    console.log('=== onSeatsChanged ===');\n    console.log('Received seats:', seats);\n    this.selectedSeats = seats;\n    // For single-seat selection, update selectedSeat for booking form\n    if (seats.length > 0 && this.busDetails?.seats) {\n      const seatLabel = seats[0]; // first (and only in single-select mode)\n      console.log('Looking for seat with label:', seatLabel);\n      console.log('Available API seats:', this.busDetails.seats.map(s => s.seatNumber));\n      // Try to match the seat label to API seat\n      this.selectedSeat = this.busDetails.seats.find(s => s.seatNumber === seatLabel) || null;\n      // If not found, create a mock seat for testing (you should remove this later)\n      if (!this.selectedSeat) {\n        console.warn('Seat not found in API data, using first available seat');\n        this.selectedSeat = this.busDetails.seats.find(s => s.status === SeatStatus.Available) || null;\n      }\n      console.log('Selected seat object:', this.selectedSeat);\n    } else {\n      this.selectedSeat = null;\n      console.log('No seats selected');\n    }\n  }\n  static {\n    this.Éµfac = function SeatSelectionComponent_Factory(t) {\n      return new (t || SeatSelectionComponent)(i0.ÉµÉµdirectiveInject(i1.ActivatedRoute), i0.ÉµÉµdirectiveInject(i1.Router), i0.ÉµÉµdirectiveInject(i2.FormBuilder), i0.ÉµÉµdirectiveInject(i3.BusService));\n    };\n  }\n  static {\n    this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n      type: SeatSelectionComponent,\n      selectors: [[\"app-seat-selection\"]],\n      decls: 5,\n      vars: 4,\n      consts: [[1, \"container\"], [\"class\", \"loading-spinner\", 4, \"ngIf\"], [\"class\", \"error-alert\", 4, \"ngIf\"], [\"class\", \"success-alert\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"loading-spinner\"], [1, \"spinner\"], [1, \"error-alert\"], [1, \"success-alert\"], [1, \"bus-info-card\"], [1, \"btn-back\", 3, \"click\"], [1, \"bus-header\"], [1, \"company-section\"], [1, \"bus-name\"], [1, \"price-section\"], [1, \"price-label\"], [1, \"price\"], [1, \"journey-info\"], [1, \"route-section\"], [1, \"route-point\"], [1, \"icon\"], [1, \"city\"], [1, \"time\"], [1, \"route-line\"], [1, \"arrow\"], [1, \"date-section\"], [1, \"main-content\"], [1, \"seat-section\"], [1, \"seat-legend\"], [1, \"legend-item\"], [1, \"seat\", \"available-demo\"], [1, \"seat\", \"selected-demo\"], [1, \"seat\", \"booked-demo\"], [1, \"seat\", \"sold-demo\"], [1, \"bus-layout\"], [1, \"steering\"], [1, \"seats-grid\"], [\"class\", \"seat-row\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"selected-seat-info\", 4, \"ngIf\"], [1, \"booking-section\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"form-group\"], [\"for\", \"passengerName\"], [\"type\", \"text\", \"id\", \"passengerName\", \"formControlName\", \"passengerName\", \"placeholder\", \"Enter full name\", 1, \"form-control\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"for\", \"mobileNumber\"], [\"type\", \"tel\", \"id\", \"mobileNumber\", \"formControlName\", \"mobileNumber\", \"placeholder\", \"+8801XXXXXXXXX\", 1, \"form-control\"], [\"for\", \"boardingPoint\"], [\"id\", \"boardingPoint\", \"formControlName\", \"boardingPoint\", 1, \"form-control\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"droppingPoint\"], [\"id\", \"droppingPoint\", \"formControlName\", \"droppingPoint\", 1, \"form-control\"], [\"class\", \"booking-summary\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-book\", 3, \"disabled\"], [1, \"seat-row\"], [3, \"class\", \"title\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"aisle\", 4, \"ngIf\"], [3, \"click\", \"title\"], [1, \"seat-icon\"], [1, \"seat-number\"], [1, \"aisle\"], [1, \"selected-seat-info\"], [1, \"info-badge\"], [1, \"error-message\"], [3, \"value\"], [1, \"booking-summary\"], [1, \"summary-item\"], [1, \"summary-divider\"], [1, \"summary-item\", \"total\"]],\n      template: function SeatSelectionComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ÉµÉµelementStart(0, \"div\", 0);\n          i0.ÉµÉµtemplate(1, SeatSelectionComponent_div_1_Template, 4, 0, \"div\", 1)(2, SeatSelectionComponent_div_2_Template, 2, 1, \"div\", 2)(3, SeatSelectionComponent_div_3_Template, 2, 1, \"div\", 3)(4, SeatSelectionComponent_div_4_Template, 108, 30, \"div\", 4);\n          i0.ÉµÉµelementEnd();\n        }\n        if (rf & 2) {\n          i0.ÉµÉµadvance();\n          i0.ÉµÉµproperty(\"ngIf\", ctx.loading);\n          i0.ÉµÉµadvance();\n          i0.ÉµÉµproperty(\"ngIf\", ctx.errorMessage);\n          i0.ÉµÉµadvance();\n          i0.ÉµÉµproperty(\"ngIf\", ctx.successMessage);\n          i0.ÉµÉµadvance();\n          i0.ÉµÉµproperty(\"ngIf\", !ctx.loading && ctx.busDetails);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i2.ÉµNgNoValidate, i2.NgSelectOption, i2.ÉµNgSelectMultipleOption, i2.DefaultValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n      styles: [\".container[_ngcontent-%COMP%] {\\n  max-width: 1400px;\\n  margin: 0 auto;\\n  padding: 20px;\\n}\\n\\n.loading-spinner[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 60px;\\n}\\n\\n.spinner[_ngcontent-%COMP%] {\\n  width: 50px;\\n  height: 50px;\\n  border: 4px solid #f3f3f3;\\n  border-top: 4px solid #3498db;\\n  border-radius: 50%;\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n  margin: 0 auto 20px;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  0% { transform: rotate(0deg); }\\n  100% { transform: rotate(360deg); }\\n}\\n\\n.error-alert[_ngcontent-%COMP%] {\\n  background: #fee;\\n  color: #c33;\\n  padding: 15px;\\n  border-radius: 8px;\\n  margin-bottom: 20px;\\n  border-left: 4px solid #e74c3c;\\n}\\n\\n.success-alert[_ngcontent-%COMP%] {\\n  background: #efe;\\n  color: #2a7;\\n  padding: 15px;\\n  border-radius: 8px;\\n  margin-bottom: 20px;\\n  border-left: 4px solid #27ae60;\\n  animation: _ngcontent-%COMP%_slideIn 0.3s ease-out;\\n}\\n\\n@keyframes _ngcontent-%COMP%_slideIn {\\n  from {\\n    opacity: 0;\\n    transform: translateY(-10px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n\\n.bus-info-card[_ngcontent-%COMP%] {\\n  background: white;\\n  border-radius: 12px;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n  padding: 25px;\\n  margin-bottom: 25px;\\n}\\n\\n.btn-back[_ngcontent-%COMP%] {\\n  background: #ecf0f1;\\n  color: #2c3e50;\\n  border: none;\\n  padding: 10px 20px;\\n  border-radius: 6px;\\n  cursor: pointer;\\n  font-size: 0.95em;\\n  margin-bottom: 20px;\\n  transition: all 0.3s;\\n}\\n\\n.btn-back[_ngcontent-%COMP%]:hover {\\n  background: #bdc3c7;\\n}\\n\\n.bus-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: start;\\n  margin-bottom: 20px;\\n}\\n\\n.company-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  margin: 0 0 5px 0;\\n  color: #2c3e50;\\n  font-size: 1.8em;\\n}\\n\\n.bus-name[_ngcontent-%COMP%] {\\n  margin: 0;\\n  color: #7f8c8d;\\n  font-size: 1.1em;\\n}\\n\\n.price-section[_ngcontent-%COMP%] {\\n  text-align: right;\\n}\\n\\n.price-label[_ngcontent-%COMP%] {\\n  display: block;\\n  color: #7f8c8d;\\n  font-size: 0.9em;\\n  margin-bottom: 5px;\\n}\\n\\n.price[_ngcontent-%COMP%] {\\n  display: block;\\n  font-size: 2em;\\n  font-weight: bold;\\n  color: #27ae60;\\n}\\n\\n.journey-info[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding-top: 20px;\\n  border-top: 2px solid #ecf0f1;\\n}\\n\\n.route-section[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 30px;\\n}\\n\\n.route-point[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n}\\n\\n.route-point[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%] {\\n  font-size: 1.5em;\\n}\\n\\n.city[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 1.2em;\\n  font-weight: 600;\\n  color: #2c3e50;\\n}\\n\\n.time[_ngcontent-%COMP%] {\\n  margin: 0;\\n  color: #7f8c8d;\\n}\\n\\n.route-line[_ngcontent-%COMP%] {\\n  flex: 1;\\n  text-align: center;\\n}\\n\\n.arrow[_ngcontent-%COMP%] {\\n  font-size: 2em;\\n  color: #3498db;\\n}\\n\\n.date-section[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n  font-size: 1.1em;\\n  color: #2c3e50;\\n}\\n\\n.main-content[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 1fr 400px;\\n  gap: 25px;\\n}\\n\\n.seat-section[_ngcontent-%COMP%], .booking-section[_ngcontent-%COMP%] {\\n  background: white;\\n  border-radius: 12px;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\\n  padding: 25px;\\n}\\n\\n.seat-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .booking-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin: 0 0 20px 0;\\n  color: #2c3e50;\\n  font-size: 1.4em;\\n}\\n\\n.seat-legend[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 20px;\\n  margin-bottom: 25px;\\n  flex-wrap: wrap;\\n}\\n\\n.legend-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n  font-size: 0.9em;\\n}\\n\\n.seat[_ngcontent-%COMP%] {\\n  width: 50px;\\n  height: 50px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 8px;\\n  cursor: pointer;\\n  transition: all 0.3s;\\n  font-size: 0.75em;\\n  border: 2px solid transparent;\\n}\\n\\n.seat-icon[_ngcontent-%COMP%] {\\n  font-size: 1.5em;\\n}\\n\\n.seat-number[_ngcontent-%COMP%] {\\n  font-size: 0.85em;\\n  font-weight: 600;\\n}\\n\\n.seat.available[_ngcontent-%COMP%] {\\n  background: #d5f4e6;\\n  color: #27ae60;\\n  border-color: #27ae60;\\n}\\n\\n.seat.available[_ngcontent-%COMP%]:hover {\\n  transform: scale(1.1);\\n  box-shadow: 0 4px 8px rgba(39, 174, 96, 0.3);\\n}\\n\\n.seat.selected[_ngcontent-%COMP%] {\\n  background: #3498db;\\n  color: white;\\n  border-color: #2980b9;\\n  transform: scale(1.1);\\n  box-shadow: 0 4px 8px rgba(52, 152, 219, 0.4);\\n}\\n\\n.seat.booked[_ngcontent-%COMP%] {\\n  background: #fff3cd;\\n  color: #856404;\\n  border-color: #ffc107;\\n  cursor: not-allowed;\\n  opacity: 0.7;\\n}\\n\\n.seat.sold[_ngcontent-%COMP%] {\\n  background: #f8d7da;\\n  color: #721c24;\\n  border-color: #f5c6cb;\\n  cursor: not-allowed;\\n  opacity: 0.6;\\n}\\n\\n.available-demo[_ngcontent-%COMP%] {\\n  background: #d5f4e6;\\n  color: #27ae60;\\n  border-color: #27ae60;\\n}\\n\\n.selected-demo[_ngcontent-%COMP%] {\\n  background: #3498db;\\n  color: white;\\n  border-color: #2980b9;\\n}\\n\\n.booked-demo[_ngcontent-%COMP%] {\\n  background: #fff3cd;\\n  color: #856404;\\n  border-color: #ffc107;\\n}\\n\\n.sold-demo[_ngcontent-%COMP%] {\\n  background: #f8d7da;\\n  color: #721c24;\\n  border-color: #f5c6cb;\\n}\\n\\n.bus-layout[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n  border-radius: 20px;\\n  padding: 30px;\\n  margin-bottom: 20px;\\n}\\n\\n.steering[_ngcontent-%COMP%] {\\n  background: #2c3e50;\\n  color: white;\\n  padding: 12px;\\n  border-radius: 8px;\\n  text-align: center;\\n  margin-bottom: 20px;\\n  font-weight: 600;\\n}\\n\\n.seats-grid[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n}\\n\\n.seat-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 10px;\\n  justify-content: center;\\n}\\n\\n.aisle[_ngcontent-%COMP%] {\\n  width: 40px;\\n}\\n\\n.selected-seat-info[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 15px;\\n  background: #e3f2fd;\\n  border-radius: 8px;\\n  border-left: 4px solid #3498db;\\n}\\n\\n.info-badge[_ngcontent-%COMP%] {\\n  color: #1976d2;\\n  font-size: 1.1em;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 5px;\\n  font-weight: 600;\\n  color: #2c3e50;\\n  margin-bottom: 8px;\\n}\\n\\n.form-control[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 12px;\\n  border: 2px solid #e0e0e0;\\n  border-radius: 8px;\\n  font-size: 1em;\\n  transition: all 0.3s;\\n  box-sizing: border-box;\\n}\\n\\n.form-control[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #3498db;\\n  box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);\\n}\\n\\n.form-control.error[_ngcontent-%COMP%] {\\n  border-color: #e74c3c;\\n}\\n\\n.error-message[_ngcontent-%COMP%] {\\n  color: #e74c3c;\\n  font-size: 0.85em;\\n  margin-top: 5px;\\n}\\n\\n.booking-summary[_ngcontent-%COMP%] {\\n  background: #f8f9fa;\\n  border-radius: 8px;\\n  padding: 20px;\\n  margin: 20px 0;\\n}\\n\\n.booking-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0 0 15px 0;\\n  color: #2c3e50;\\n  font-size: 1.1em;\\n}\\n\\n.summary-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  padding: 8px 0;\\n  color: #2c3e50;\\n}\\n\\n.summary-divider[_ngcontent-%COMP%] {\\n  border-top: 2px dashed #dee2e6;\\n  margin: 10px 0;\\n}\\n\\n.summary-item.total[_ngcontent-%COMP%] {\\n  font-size: 1.2em;\\n  padding-top: 10px;\\n}\\n\\n.summary-item.total[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n  color: #27ae60;\\n}\\n\\n.btn-book[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 15px;\\n  border: none;\\n  border-radius: 8px;\\n  font-size: 1.1em;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.3s;\\n  background: linear-gradient(135deg, #2ecc71, #27ae60);\\n  color: white;\\n}\\n\\n.btn-book[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  transform: translateY(-2px);\\n  box-shadow: 0 6px 12px rgba(46, 204, 113, 0.4);\\n}\\n\\n.btn-book[_ngcontent-%COMP%]:disabled {\\n  background: #bdc3c7;\\n  cursor: not-allowed;\\n  transform: none;\\n}\\n\\n@media (max-width: 1024px) {\\n  .main-content[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n\\n  .booking-section[_ngcontent-%COMP%] {\\n    order: -1;\\n  }\\n}\\n\\n@media (max-width: 768px) {\\n  .bus-header[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    gap: 15px;\\n  }\\n\\n  .price-section[_ngcontent-%COMP%] {\\n    text-align: left;\\n  }\\n\\n  .journey-info[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    gap: 20px;\\n    align-items: flex-start;\\n  }\\n\\n  .route-section[_ngcontent-%COMP%] {\\n    width: 100%;\\n    flex-wrap: wrap;\\n  }\\n\\n  .seat[_ngcontent-%COMP%] {\\n    width: 45px;\\n    height: 45px;\\n  }\\n\\n  .bus-layout[_ngcontent-%COMP%] {\\n    padding: 20px;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9zZWF0LXNlbGVjdGlvbi9zZWF0LXNlbGVjdGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsYUFBYTtBQUNmOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWix5QkFBeUI7RUFDekIsNkJBQTZCO0VBQzdCLGtCQUFrQjtFQUNsQixrQ0FBa0M7RUFDbEMsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsS0FBSyx1QkFBdUIsRUFBRTtFQUM5QixPQUFPLHlCQUF5QixFQUFFO0FBQ3BDOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFdBQVc7RUFDWCxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQiw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLGFBQWE7RUFDYixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLDhCQUE4QjtFQUM5QixnQ0FBZ0M7QUFDbEM7O0FBRUE7RUFDRTtJQUNFLFVBQVU7SUFDViw0QkFBNEI7RUFDOUI7RUFDQTtJQUNFLFVBQVU7SUFDVix3QkFBd0I7RUFDMUI7QUFDRjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixtQkFBbUI7RUFDbkIsd0NBQXdDO0VBQ3hDLGFBQWE7RUFDYixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsY0FBYztFQUNkLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsa0JBQWtCO0VBQ2xCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGlC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QixtQkFBbUI7RUFDbkIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFO0lBQ0UsMEJBQTBCO0VBQzVCOztFQUVBO0lBQ0UsU0FBUztFQUNYO0FBQ0Y7O0FBRUE7RUFDRTtJQUNFLHNCQUFzQjtJQUN0QixTQUFTO0VBQ1g7O0VBRUE7SUFDRSxnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSxzQkFBc0I7SUFDdEIsU0FBUztJQUNULHVCQUF1QjtFQUN6Qjs7RUFFQTtJQUNFLFdBQVc7SUFDWCxlQUFlO0VBQ2pCOztFQUVBO0lBQ0UsV0FBVztJQUNYLFlBQVk7RUFDZDs7RUFFQTtJQUNFLGFBQWE7RUFDZjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgbWF4LXdpZHRoOiAxNDAwcHg7XHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbiAgcGFkZGluZzogMjBweDtcclxufVxyXG5cclxuLmxvYWRpbmctc3Bpbm5lciB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHBhZGRpbmc6IDYwcHg7XHJcbn1cclxuXHJcbi5zcGlubmVyIHtcclxuICB3aWR0aDogNTBweDtcclxuICBoZWlnaHQ6IDUwcHg7XHJcbiAgYm9yZGVyOiA0cHggc29saWQgI2YzZjNmMztcclxuICBib3JkZXItdG9wOiA0cHggc29saWQgIzM0OThkYjtcclxuICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcclxuICBtYXJnaW46IDAgYXV0byAyMHB4O1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHNwaW4ge1xyXG4gIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cclxuICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxyXG59XHJcblxyXG4uZXJyb3ItYWxlcnQge1xyXG4gIGJhY2tncm91bmQ6ICNmZWU7XHJcbiAgY29sb3I6ICNjMzM7XHJcbiAgcGFkZGluZzogMTVweDtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICBib3JkZXItbGVmdDogNHB4IHNvbGlkICNlNzRjM2M7XHJcbn1cclxuXHJcbi5zdWNjZXNzLWFsZXJ0IHtcclxuICBiYWNrZ3JvdW5kOiAjZWZlO1xyXG4gIGNvbG9yOiAjMmE3O1xyXG4gIHBhZGRpbmc6IDE1cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjMjdhZTYwO1xyXG4gIGFuaW1hdGlvbjogc2xpZGVJbiAwLjNzIGVhc2Utb3V0O1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHNsaWRlSW4ge1xyXG4gIGZyb20ge1xyXG4gICAgb3BhY2l0eTogMDtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTBweCk7XHJcbiAgfVxyXG4gIHRvIHtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XHJcbiAgfVxyXG59XHJcblxyXG4uYnVzLWluZm8tY2FyZCB7XHJcbiAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gIHBhZGRpbmc6IDI1cHg7XHJcbiAgbWFyZ2luLWJvdHRvbTogMjVweDtcclxufVxyXG5cclxuLmJ0bi1iYWNrIHtcclxuICBiYWNrZ3JvdW5kOiAjZWNmMGYxO1xyXG4gIGNvbG9yOiAjMmMzZTUwO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBmb250LXNpemU6IDAuOTVlbTtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjNzO1xyXG59XHJcblxyXG4uYnRuLWJhY2s6aG92ZXIge1xyXG4gIGJhY2tncm91bmQ6ICNiZGMzYzc7XHJcbn1cclxuXHJcbi5idXMtaGVhZGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBhbGlnbi1pdGVtczogc3RhcnQ7XHJcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxufVxyXG5cclxuLmNvbXBhbnktc2VjdGlvbiBoMSB7XHJcbiAgbWFyZ2luOiAwIDAgNXB4IDA7XHJcbiAgY29sb3I6ICMyYzNlNTA7XHJcbiAgZm9udC1zaXplOiAxLjhlbTtcclxufVxyXG5cclxuLmJ1cy1uYW1lIHtcclxuICBtYXJnaW46IDA7XHJcbiAgY29sb3I6ICM3ZjhjOGQ7XHJcbiAgZm9udC1zaXplOiAxLjFlbTtcclxufVxyXG5cclxuLnByaWNlLXNlY3Rpb24ge1xyXG4gIHRleHQtYWxpZ246IHJpZ2h0O1xyXG59XHJcblxyXG4ucHJpY2UtbGFiZWwge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIGNvbG9yOiAjN2Y4YzhkO1xyXG4gIGZvbnQtc2l6ZTogMC45ZW07XHJcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG59XHJcblxyXG4ucHJpY2Uge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIGZvbnQtc2l6ZTogMmVtO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIGNvbG9yOiAjMjdhZTYwO1xyXG59XHJcblxyXG4uam91cm5leS1pbmZvIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIHBhZGRpbmctdG9wOiAyMHB4O1xyXG4gIGJvcmRlci10b3A6IDJweCBzb2xpZCAjZWNmMGYxO1xyXG59XHJcblxyXG4ucm91dGUtc2VjdGlvbiB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogMzBweDtcclxufVxyXG5cclxuLnJvdXRlLXBvaW50IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiAxMHB4O1xyXG59XHJcblxyXG4ucm91dGUtcG9pbnQgLmljb24ge1xyXG4gIGZvbnQtc2l6ZTogMS41ZW07XHJcbn1cclxuXHJcbi5jaXR5IHtcclxuICBtYXJnaW46IDA7XHJcbiAgZm9udC1zaXplOiAxLjJlbTtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGNvbG9yOiAjMmMzZTUwO1xyXG59XHJcblxyXG4udGltZSB7XHJcbiAgbWFyZ2luOiAwO1xyXG4gIGNvbG9yOiAjN2Y4YzhkO1xyXG59XHJcblxyXG4ucm91dGUtbGluZSB7XHJcbiAgZmxleDogMTtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5hcnJvdyB7XHJcbiAgZm9udC1zaXplOiAyZW07XHJcbiAgY29sb3I6ICMzNDk4ZGI7XHJcbn1cclxuXHJcbi5kYXRlLXNlY3Rpb24ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBnYXA6IDhweDtcclxuICBmb250LXNpemU6IDEuMWVtO1xyXG4gIGNvbG9yOiAjMmMzZTUwO1xyXG59XHJcblxyXG4ubWFpbi1jb250ZW50IHtcclxuICBkaXNwbGF5OiBncmlkO1xyXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDQwMHB4O1xyXG4gIGdhcDogMjVweDtcclxufVxyXG5cclxuLnNlYXQtc2VjdGlvbixcclxuLmJvb2tpbmctc2VjdGlvbiB7XHJcbiAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gIHBhZGRpbmc6IDI1cHg7XHJcbn1cclxuXHJcbi5zZWF0LXNlY3Rpb24gaDIsXHJcbi5ib29raW5nLXNlY3Rpb24gaDIge1xyXG4gIG1hcmdpbjogMCAwIDIwcHggMDtcclxuICBjb2xvcjogIzJjM2U1MDtcclxuICBmb250LXNpemU6IDEuNGVtO1xyXG59XHJcblxyXG4uc2VhdC1sZWdlbmQge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZ2FwOiAyMHB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDI1cHg7XHJcbiAgZmxleC13cmFwOiB3cmFwO1xyXG59XHJcblxyXG4ubGVnZW5kLWl0ZW0ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBnYXA6IDhweDtcclxuICBmb250LXNpemU6IDAuOWVtO1xyXG59XHJcblxyXG4uc2VhdCB7XHJcbiAgd2lkdGg6IDUwcHg7XHJcbiAgaGVpZ2h0OiA1MHB4O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XHJcbiAgZm9udC1zaXplOiAwLjc1ZW07XHJcbiAgYm9yZGVyOiAycHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbn1cclxuXHJcbi5zZWF0LWljb24ge1xyXG4gIGZvbnQtc2l6ZTogMS41ZW07XHJcbn1cclxuXHJcbi5zZWF0LW51bWJlciB7XHJcbiAgZm9udC1zaXplOiAwLjg1ZW07XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLnNlYXQuYXZhaWxhYmxlIHtcclxuICBiYWNrZ3JvdW5kOiAjZDVmNGU2O1xyXG4gIGNvbG9yOiAjMjdhZTYwO1xyXG4gIGJvcmRlci1jb2xvcjogIzI3YWU2MDtcclxufVxyXG5cclxuLnNlYXQuYXZhaWxhYmxlOmhvdmVyIHtcclxuICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7XHJcbiAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMzksIDE3NCwgOTYsIDAuMyk7XHJcbn1cclxuXHJcbi5zZWF0LnNlbGVjdGVkIHtcclxuICBiYWNrZ3JvdW5kOiAjMzQ5OGRiO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBib3JkZXItY29sb3I6ICMyOTgwYjk7XHJcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xyXG4gIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDUyLCAxNTIsIDIxOSwgMC40KTtcclxufVxyXG5cclxuLnNlYXQuYm9va2VkIHtcclxuICBiYWNrZ3JvdW5kOiAjZmZmM2NkO1xyXG4gIGNvbG9yOiAjODU2NDA0O1xyXG4gIGJvcmRlci1jb2xvcjogI2ZmYzEwNztcclxuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xyXG4gIG9wYWNpdHk6IDAuNztcclxufVxyXG5cclxuLnNlYXQuc29sZCB7XHJcbiAgYmFja2dyb3VuZDogI2Y4ZDdkYTtcclxuICBjb2xvcjogIzcyMWMyNDtcclxuICBib3JkZXItY29sb3I6ICNmNWM2Y2I7XHJcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxuICBvcGFjaXR5OiAwLjY7XHJcbn1cclxuXHJcbi5hdmFpbGFibGUtZGVtbyB7XHJcbiAgYmFja2dyb3VuZDogI2Q1ZjRlNjtcclxuICBjb2xvcjogIzI3YWU2MDtcclxuICBib3JkZXItY29sb3I6ICMyN2FlNjA7XHJcbn1cclxuXHJcbi5zZWxlY3RlZC1kZW1vIHtcclxuICBiYWNrZ3JvdW5kOiAjMzQ5OGRiO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBib3JkZXItY29sb3I6ICMyOTgwYjk7XHJcbn1cclxuXHJcbi5ib29rZWQtZGVtbyB7XHJcbiAgYmFja2dyb3VuZDogI2ZmZjNjZDtcclxuICBjb2xvcjogIzg1NjQwNDtcclxuICBib3JkZXItY29sb3I6ICNmZmMxMDc7XHJcbn1cclxuXHJcbi5zb2xkLWRlbW8ge1xyXG4gIGJhY2tncm91bmQ6ICNmOGQ3ZGE7XHJcbiAgY29sb3I6ICM3MjFjMjQ7XHJcbiAgYm9yZGVyLWNvbG9yOiAjZjVjNmNiO1xyXG59XHJcblxyXG4uYnVzLWxheW91dCB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTtcclxuICBib3JkZXItcmFkaXVzOiAyMHB4O1xyXG4gIHBhZGRpbmc6IDMwcHg7XHJcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxufVxyXG5cclxuLnN0ZWVyaW5nIHtcclxuICBiYWNrZ3JvdW5kOiAjMmMzZTUwO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBwYWRkaW5nOiAxMnB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcblxyXG4uc2VhdHMtZ3JpZCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGdhcDogMTBweDtcclxufVxyXG5cclxuLnNlYXQtcm93IHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGdhcDogMTBweDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLmFpc2xlIHtcclxuICB3aWR0aDogNDBweDtcclxufVxyXG5cclxuLnNlbGVjdGVkLXNlYXQtaW5mbyB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHBhZGRpbmc6IDE1cHg7XHJcbiAgYmFja2dyb3VuZDogI2UzZjJmZDtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjMzQ5OGRiO1xyXG59XHJcblxyXG4uaW5mby1iYWRnZSB7XHJcbiAgY29sb3I6ICMxOTc2ZDI7XHJcbiAgZm9udC1zaXplOiAxLjFlbTtcclxufVxyXG5cclxuLmZvcm0tZ3JvdXAge1xyXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbn1cclxuXHJcbi5mb3JtLWdyb3VwIGxhYmVsIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZ2FwOiA1cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICBjb2xvcjogIzJjM2U1MDtcclxuICBtYXJnaW4tYm90dG9tOiA4cHg7XHJcbn1cclxuXHJcbi5mb3JtLWNvbnRyb2wge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIHBhZGRpbmc6IDEycHg7XHJcbiAgYm9yZGVyOiAycHggc29saWQgI2UwZTBlMDtcclxuICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgZm9udC1zaXplOiAxZW07XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XHJcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxufVxyXG5cclxuLmZvcm0tY29udHJvbDpmb2N1cyB7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICBib3JkZXItY29sb3I6ICMzNDk4ZGI7XHJcbiAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoNTIsIDE1MiwgMjE5LCAwLjEpO1xyXG59XHJcblxyXG4uZm9ybS1jb250cm9sLmVycm9yIHtcclxuICBib3JkZXItY29sb3I6ICNlNzRjM2M7XHJcbn1cclxuXHJcbi5lcnJvci1tZXNzYWdlIHtcclxuICBjb2xvcjogI2U3NGMzYztcclxuICBmb250LXNpemU6IDAuODVlbTtcclxuICBtYXJnaW4tdG9wOiA1cHg7XHJcbn1cclxuXHJcbi5ib29raW5nLXN1bW1hcnkge1xyXG4gIGJhY2tncm91bmQ6ICNmOGY5ZmE7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbiAgbWFyZ2luOiAyMHB4IDA7XHJcbn1cclxuXHJcbi5ib29raW5nLXN1bW1hcnkgaDMge1xyXG4gIG1hcmdpbjogMCAwIDE1cHggMDtcclxuICBjb2xvcjogIzJjM2U1MDtcclxuICBmb250LXNpemU6IDEuMWVtO1xyXG59XHJcblxyXG4uc3VtbWFyeS1pdGVtIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBwYWRkaW5nOiA4cHggMDtcclxuICBjb2xvcjogIzJjM2U1MDtcclxufVxyXG5cclxuLnN1bW1hcnktZGl2aWRlciB7XHJcbiAgYm9yZGVyLXRvcDogMnB4IGRhc2hlZCAjZGVlMmU2O1xyXG4gIG1hcmdpbjogMTBweCAwO1xyXG59XHJcblxyXG4uc3VtbWFyeS1pdGVtLnRvdGFsIHtcclxuICBmb250LXNpemU6IDEuMmVtO1xyXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xyXG59XHJcblxyXG4uc3VtbWFyeS1pdGVtLnRvdGFsIHN0cm9uZyB7XHJcbiAgY29sb3I6ICMyN2FlNjA7XHJcbn1cclxuXHJcbi5idG4tYm9vayB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgcGFkZGluZzogMTVweDtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIGZvbnQtc2l6ZTogMS4xZW07XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzJlY2M3MSwgIzI3YWU2MCk7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4uYnRuLWJvb2s6aG92ZXI6bm90KDpkaXNhYmxlZCkge1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcclxuICBib3gtc2hhZG93OiAwIDZweCAxMnB4IHJnYmEoNDYsIDIwNCwgMTEzLCAwLjQpO1xyXG59XHJcblxyXG4uYnRuLWJvb2s6ZGlzYWJsZWQge1xyXG4gIGJhY2tncm91bmQ6ICNiZGMzYzc7XHJcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxuICB0cmFuc2Zvcm06IG5vbmU7XHJcbn1cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiAxMDI0cHgpIHtcclxuICAubWFpbi1jb250ZW50IHtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xyXG4gIH1cclxuXHJcbiAgLmJvb2tpbmctc2VjdGlvbiB7XHJcbiAgICBvcmRlcjogLTE7XHJcbiAgfVxyXG59XHJcblxyXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcclxuICAuYnVzLWhlYWRlciB7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgZ2FwOiAxNXB4O1xyXG4gIH1cclxuXHJcbiAgLnByaWNlLXNlY3Rpb24ge1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICB9XHJcblxyXG4gIC5qb3VybmV5LWluZm8ge1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGdhcDogMjBweDtcclxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xyXG4gIH1cclxuXHJcbiAgLnJvdXRlLXNlY3Rpb24ge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgfVxyXG5cclxuICAuc2VhdCB7XHJcbiAgICB3aWR0aDogNDVweDtcclxuICAgIGhlaWdodDogNDVweDtcclxuICB9XHJcblxyXG4gIC5idXMtbGF5b3V0IHtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","forkJoin","SeatStatus","i0","ÉµÉµelementStart","ÉµÉµelement","ÉµÉµtext","ÉµÉµelementEnd","ÉµÉµadvance","ÉµÉµtextInterpolate1","ctx_r0","errorMessage","successMessage","ÉµÉµlistener","SeatSelectionComponent_div_4_div_70_div_1_Template_div_click_0_listener","seat_r4","ÉµÉµrestoreView","_r3","$implicit","ÉµÉµnextContext","ÉµÉµresetView","selectSeatMultiple","ÉµÉµclassMap","getSeatClass","ÉµÉµproperty","seatNumber","ÉµÉµtextInterpolate","getSeatIcon","ÉµÉµtemplate","SeatSelectionComponent_div_4_div_70_div_1_Template","SeatSelectionComponent_div_4_div_70_div_2_Template","row_r5","length","rowIndex_r6","selectedSeats","join","SeatSelectionComponent_div_4_div_82_span_1_Template","SeatSelectionComponent_div_4_div_82_span_2_Template","tmp_2_0","bookingForm","get","errors","tmp_3_0","SeatSelectionComponent_div_4_div_87_span_1_Template","SeatSelectionComponent_div_4_div_87_span_2_Template","point_r7","point_r8","busDetails","price","SeatSelectionComponent_div_4_Template_button_click_2_listener","_r2","goBack","SeatSelectionComponent_div_4_div_70_Template","SeatSelectionComponent_div_4_div_71_Template","SeatSelectionComponent_div_4_Template_form_ngSubmit_75_listener","onBookTicket","SeatSelectionComponent_div_4_div_82_Template","SeatSelectionComponent_div_4_div_87_Template","SeatSelectionComponent_div_4_option_94_Template","SeatSelectionComponent_div_4_div_95_Template","SeatSelectionComponent_div_4_option_102_Template","SeatSelectionComponent_div_4_div_103_Template","SeatSelectionComponent_div_4_div_104_Template","SeatSelectionComponent_div_4_span_106_Template","SeatSelectionComponent_div_4_span_107_Template","companyName","ÉµÉµtextInterpolate2","busName","busType","fromCity","formatTime","startTime","toCity","arrivalTime","formatDate","journeyDate","getSeatLayout","ÉµÉµclassProp","tmp_12_0","invalid","touched","tmp_13_0","tmp_14_0","tmp_15_0","tmp_16_0","boardingPoints","tmp_18_0","tmp_19_0","droppingPoints","tmp_21_0","bookingInProgress","SeatSelectionComponent","constructor","route","router","fb","busService","busScheduleId","selectedSeat","selectedSeatIds","Set","loading","ngOnInit","snapshot","paramMap","group","passengerName","required","minLength","maxLength","mobileNumber","pattern","boardingPoint","droppingPoint","loadBusDetails","getBusScheduleDetails","subscribe","next","details","error","console","seats","maxRow","Math","max","map","s","row","maxCol","column","layout","rowSeats","col","seat","find","push","selectSeat","status","Available","clear","add","id","has","delete","filter","log","classes","Booked","Sold","markFormGroupTouched","selectedSeatObjects","bookingRequests","bookingRequest","seatId","value","bookTicket","tickets","setTimeout","navigate","message","time","hours","minutes","split","hour","parseInt","ampm","formattedHour","date","d","Date","toLocaleDateString","weekday","year","month","day","formGroup","Object","keys","controls","forEach","key","control","markAsTouched","getBookedSeats","onSeatsChanged","seatLabel","warn","ÉµÉµdirectiveInject","i1","ActivatedRoute","Router","i2","FormBuilder","i3","BusService","selectors","decls","vars","consts","template","SeatSelectionComponent_Template","rf","ctx","SeatSelectionComponent_div_1_Template","SeatSelectionComponent_div_2_Template","SeatSelectionComponent_div_3_Template","SeatSelectionComponent_div_4_Template"],"sources":["D:\\BusTicketReservation\\Frontend\\bus-ticket-reservation\\src\\app\\components\\seat-selection\\seat-selection.component.ts","D:\\BusTicketReservation\\Frontend\\bus-ticket-reservation\\src\\app\\components\\seat-selection\\seat-selection.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { forkJoin } from 'rxjs';\r\nimport { BusService } from '../../services/bus.service';\r\nimport { BusScheduleDetails, Seat, SeatStatus, BookTicketRequest } from '../../models/bus.model';\r\n\r\n@Component({\r\n  selector: 'app-seat-selection',\r\n  templateUrl: './seat-selection.component.html',\r\n  styleUrls: ['./seat-selection.component.css']\r\n})\r\nexport class SeatSelectionComponent implements OnInit {\r\n  busScheduleId: string = '';\r\n  busDetails: BusScheduleDetails | null = null;\r\n  selectedSeat: Seat | null = null;\r\n  selectedSeats: string[] = [];  // Store seat numbers from API\r\n  selectedSeatIds: Set<string> = new Set();  // Track selected seat IDs\r\n  bookingForm!: FormGroup;\r\n  loading = false;\r\n  bookingInProgress = false;\r\n  errorMessage = '';\r\n  successMessage = '';\r\n  \r\n  SeatStatus = SeatStatus;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private fb: FormBuilder,\r\n    private busService: BusService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.busScheduleId = this.route.snapshot.paramMap.get('id') || '';\r\n    \r\n    this.bookingForm = this.fb.group({\r\n      passengerName: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(100)]],\r\n      mobileNumber: ['', [Validators.required, Validators.pattern(/^[0-9+]{10,20}$/)]],\r\n      boardingPoint: ['', Validators.required],\r\n      droppingPoint: ['', Validators.required]\r\n    });\r\n\r\n    this.loadBusDetails();\r\n  }\r\n\r\n  loadBusDetails(): void {\r\n    this.loading = true;\r\n    this.errorMessage = '';\r\n\r\n    this.busService.getBusScheduleDetails(this.busScheduleId).subscribe({\r\n      next: (details) => {\r\n        this.busDetails = details;\r\n        this.loading = false;\r\n      },\r\n      error: (error) => {\r\n        console.error('Error loading bus details:', error);\r\n        this.errorMessage = 'Failed to load bus details. Please try again.';\r\n        this.loading = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  getSeatLayout(): Seat[][] {\r\n    if (!this.busDetails || !this.busDetails.seats) return [];\r\n\r\n    const maxRow = Math.max(...this.busDetails.seats.map(s => s.row));\r\n    const maxCol = Math.max(...this.busDetails.seats.map(s => s.column));\r\n    \r\n    const layout: Seat[][] = [];\r\n    \r\n    for (let row = 1; row <= maxRow; row++) {\r\n      const rowSeats: Seat[] = [];\r\n      for (let col = 1; col <= maxCol; col++) {\r\n        const seat = this.busDetails.seats.find(s => s.row === row && s.column === col);\r\n        if (seat) {\r\n          rowSeats.push(seat);\r\n        }\r\n      }\r\n      if (rowSeats.length > 0) {\r\n        layout.push(rowSeats);\r\n      }\r\n    }\r\n    \r\n    return layout;\r\n  }\r\n\r\n  selectSeat(seat: Seat): void {\r\n    if (seat.status === SeatStatus.Available) {\r\n      this.selectedSeat = seat;\r\n      this.selectedSeats = [seat.seatNumber];\r\n      this.selectedSeatIds.clear();\r\n      this.selectedSeatIds.add(seat.id);\r\n      this.errorMessage = '';\r\n    }\r\n  }\r\n\r\n  selectSeatMultiple(seat: Seat): void {\r\n    if (seat.status !== SeatStatus.Available) return;\r\n    \r\n    // Toggle selection\r\n    if (this.selectedSeatIds.has(seat.id)) {\r\n      this.selectedSeatIds.delete(seat.id);\r\n      this.selectedSeats = this.selectedSeats.filter(s => s !== seat.seatNumber);\r\n    } else {\r\n      this.selectedSeatIds.add(seat.id);\r\n      this.selectedSeats.push(seat.seatNumber);\r\n    }\r\n    \r\n    // Update selectedSeat for backward compatibility\r\n    if (this.selectedSeats.length > 0) {\r\n      this.selectedSeat = seat;\r\n    } else {\r\n      this.selectedSeat = null;\r\n    }\r\n    \r\n    this.errorMessage = '';\r\n    console.log('Selected seats:', this.selectedSeats);\r\n    console.log('Selected IDs:', [...this.selectedSeatIds]);\r\n  }\r\n\r\n  getSeatClass(seat: Seat): string {\r\n    const classes = ['seat'];\r\n    \r\n    if (seat.status === SeatStatus.Available) {\r\n      classes.push('available');\r\n      if (this.selectedSeatIds.has(seat.id)) {\r\n        classes.push('selected');\r\n      }\r\n    } else if (seat.status === SeatStatus.Booked) {\r\n      classes.push('booked');\r\n    } else if (seat.status === SeatStatus.Sold) {\r\n      classes.push('sold');\r\n    }\r\n    \r\n    return classes.join(' ');\r\n  }\r\n\r\n  getSeatIcon(seat: Seat): string {\r\n    if (this.selectedSeatIds.has(seat.id)) return 'âœ“';\r\n    if (seat.status === SeatStatus.Available) return 'ðŸ’º';\r\n    if (seat.status === SeatStatus.Booked) return 'ðŸ”’';\r\n    if (seat.status === SeatStatus.Sold) return 'âœ–';\r\n    return '';\r\n  }\r\n\r\n  onBookTicket(): void {\r\n    if (this.selectedSeats.length === 0) {\r\n      this.errorMessage = 'Please select at least one seat.';\r\n      return;\r\n    }\r\n\r\n    if (this.bookingForm.invalid) {\r\n      this.markFormGroupTouched(this.bookingForm);\r\n      this.errorMessage = 'Please fill in all required fields correctly.';\r\n      return;\r\n    }\r\n\r\n    this.bookingInProgress = true;\r\n    this.errorMessage = '';\r\n    this.successMessage = '';\r\n\r\n    // Get seat objects for selected seat IDs\r\n    const selectedSeatObjects = this.busDetails?.seats.filter(s => \r\n      this.selectedSeatIds.has(s.id)\r\n    ) || [];\r\n\r\n    if (selectedSeatObjects.length === 0) {\r\n      this.errorMessage = 'Unable to find selected seats. Please try again.';\r\n      this.bookingInProgress = false;\r\n      return;\r\n    }\r\n\r\n    console.log('Booking seats:', selectedSeatObjects.map(s => s.seatNumber));\r\n\r\n    // Book all seats - make multiple API calls\r\n    const bookingRequests = selectedSeatObjects.map(seat => {\r\n      const bookingRequest: BookTicketRequest = {\r\n        busScheduleId: this.busScheduleId,\r\n        seatId: seat.id,\r\n        passengerName: this.bookingForm.value.passengerName,\r\n        mobileNumber: this.bookingForm.value.mobileNumber,\r\n        boardingPoint: this.bookingForm.value.boardingPoint,\r\n        droppingPoint: this.bookingForm.value.droppingPoint\r\n      };\r\n      return this.busService.bookTicket(bookingRequest);\r\n    });\r\n\r\n    // Use forkJoin to wait for all bookings to complete\r\n    forkJoin(bookingRequests).subscribe({\r\n      next: (tickets) => {\r\n        console.log('All tickets booked:', tickets);\r\n        this.successMessage = `Booking successful! ${tickets.length} seat(s) booked.`;\r\n        this.bookingInProgress = false;\r\n        \r\n        // Redirect to success page with first ticket ID\r\n        setTimeout(() => {\r\n          this.router.navigate(['/booking-success', tickets[0].id]);\r\n        }, 2000);\r\n      },\r\n      error: (error) => {\r\n        console.error('Booking error:', error);\r\n        this.errorMessage = error.error?.message || 'Booking failed. The seat(s) may no longer be available.';\r\n        this.bookingInProgress = false;\r\n        \r\n        // Reload bus details to refresh seat availability\r\n        this.loadBusDetails();\r\n        this.selectedSeats = [];\r\n        this.selectedSeat = null;\r\n      }\r\n    });\r\n  }\r\n\r\n  goBack(): void {\r\n    this.router.navigate(['/']);\r\n  }\r\n\r\n  formatTime(time: string): string {\r\n    const [hours, minutes] = time.split(':');\r\n    const hour = parseInt(hours);\r\n    const ampm = hour >= 12 ? 'PM' : 'AM';\r\n    const formattedHour = hour % 12 || 12;\r\n    return `${formattedHour}:${minutes} ${ampm}`;\r\n  }\r\n\r\n  formatDate(date: string): string {\r\n    const d = new Date(date);\r\n    return d.toLocaleDateString('en-US', { \r\n      weekday: 'short', \r\n      year: 'numeric', \r\n      month: 'short', \r\n      day: 'numeric' \r\n    });\r\n  }\r\n\r\n  private markFormGroupTouched(formGroup: FormGroup): void {\r\n    Object.keys(formGroup.controls).forEach(key => {\r\n      const control = formGroup.get(key);\r\n      control?.markAsTouched();\r\n    });\r\n  }\r\n\r\n  // Helper methods for seat-map component\r\n  getBookedSeats(): string[] {\r\n    if (!this.busDetails?.seats) return [];\r\n    return this.busDetails.seats\r\n      .filter(s => s.status === SeatStatus.Booked || s.status === SeatStatus.Sold)\r\n      .map(s => s.seatNumber);\r\n  }\r\n\r\n  onSeatsChanged(seats: string[]): void {\r\n    console.log('=== onSeatsChanged ===');\r\n    console.log('Received seats:', seats);\r\n    this.selectedSeats = seats;\r\n    \r\n    // For single-seat selection, update selectedSeat for booking form\r\n    if (seats.length > 0 && this.busDetails?.seats) {\r\n      const seatLabel = seats[0]; // first (and only in single-select mode)\r\n      console.log('Looking for seat with label:', seatLabel);\r\n      console.log('Available API seats:', this.busDetails.seats.map(s => s.seatNumber));\r\n      \r\n      // Try to match the seat label to API seat\r\n      this.selectedSeat = this.busDetails.seats.find(s => s.seatNumber === seatLabel) || null;\r\n      \r\n      // If not found, create a mock seat for testing (you should remove this later)\r\n      if (!this.selectedSeat) {\r\n        console.warn('Seat not found in API data, using first available seat');\r\n        this.selectedSeat = this.busDetails.seats.find(s => s.status === SeatStatus.Available) || null;\r\n      }\r\n      \r\n      console.log('Selected seat object:', this.selectedSeat);\r\n    } else {\r\n      this.selectedSeat = null;\r\n      console.log('No seats selected');\r\n    }\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <div class=\"loading-spinner\" *ngIf=\"loading\">\r\n    <div class=\"spinner\"></div>\r\n    <p>Loading bus details...</p>\r\n  </div>\r\n\r\n  <div class=\"error-alert\" *ngIf=\"errorMessage\">\r\n    {{ errorMessage }}\r\n  </div>\r\n\r\n  <div class=\"success-alert\" *ngIf=\"successMessage\">\r\n    ? {{ successMessage }}\r\n  </div>\r\n\r\n  <div *ngIf=\"!loading && busDetails\">\r\n    <div class=\"bus-info-card\">\r\n      <button class=\"btn-back\" (click)=\"goBack()\">\r\n        Back to Search\r\n      </button>\r\n\r\n      <div class=\"bus-header\">\r\n        <div class=\"company-section\">\r\n          <h1>{{ busDetails.companyName }}</h1>\r\n          <p class=\"bus-name\">{{ busDetails.busName }} ({{ busDetails.busType }})</p>\r\n        </div>\r\n        <div class=\"price-section\">\r\n          <span class=\"price-label\">Fare</span>\r\n          <span class=\"price\">?{{ busDetails.price }}</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"journey-info\">\r\n        <div class=\"route-section\">\r\n          <div class=\"route-point\">\r\n            <span class=\"icon\">ðŸ“</span>\r\n            <div>\r\n              <p class=\"city\">{{ busDetails.fromCity }}</p>\r\n              <p class=\"time\">{{ formatTime(busDetails.startTime) }}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"route-line\">\r\n            <div class=\"arrow\">â†’</div>\r\n          </div>\r\n          \r\n          <div class=\"route-point\">\r\n            <span class=\"icon\">ðŸ“</span>\r\n            <div>\r\n              <p class=\"city\">{{ busDetails.toCity }}</p>\r\n              <p class=\"time\">{{ formatTime(busDetails.arrivalTime) }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"date-section\">\r\n          <span class=\"icon\">ðŸ“…</span>\r\n          <span>{{ formatDate(busDetails.journeyDate) }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"main-content\">\r\n      <div class=\"seat-section\">\r\n        <h2>ðŸª‘ Select Your Seat</h2>\r\n        \r\n        <div class=\"seat-legend\">\r\n          <div class=\"legend-item\">\r\n            <span class=\"seat available-demo\">ðŸ’º</span>\r\n            <span>Available</span>\r\n          </div>\r\n          <div class=\"legend-item\">\r\n            <span class=\"seat selected-demo\">âœ“</span>\r\n            <span>Selected</span>\r\n          </div>\r\n          <div class=\"legend-item\">\r\n            <span class=\"seat booked-demo\">ðŸ”’</span>\r\n            <span>Booked</span>\r\n          </div>\r\n          <div class=\"legend-item\">\r\n            <span class=\"seat sold-demo\">âœ–</span>\r\n            <span>Sold</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"bus-layout\">\r\n          <div class=\"steering\">ðŸš— Driver</div>\r\n          \r\n          <div class=\"seats-grid\">\r\n            <div class=\"seat-row\" *ngFor=\"let row of getSeatLayout(); let rowIndex = index\">\r\n              <div \r\n                *ngFor=\"let seat of row\" \r\n                [class]=\"getSeatClass(seat)\"\r\n                (click)=\"selectSeatMultiple(seat)\"\r\n                [title]=\"'Seat ' + seat.seatNumber\">\r\n                <span class=\"seat-icon\">{{ getSeatIcon(seat) }}</span>\r\n                <span class=\"seat-number\">{{ seat.seatNumber }}</span>\r\n              </div>\r\n              \r\n              <!-- Add aisle space in the middle for typical bus layout -->\r\n              <div class=\"aisle\" *ngIf=\"row.length > 2 && rowIndex === 0\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"selected-seat-info\" *ngIf=\"selectedSeats.length > 0\">\r\n          <div class=\"info-badge\">\r\n            <strong>Selected Seat:</strong> {{ selectedSeats.join(', ') }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"booking-section\">\r\n        <h2>ðŸ“ Booking Details</h2>\r\n        \r\n        <form [formGroup]=\"bookingForm\" (ngSubmit)=\"onBookTicket()\">\r\n          <div class=\"form-group\">\r\n            <label for=\"passengerName\">\r\n              <i class=\"icon\">ðŸ‘¤</i> Passenger Name *\r\n            </label>\r\n            <input \r\n              type=\"text\" \r\n              id=\"passengerName\" \r\n              formControlName=\"passengerName\"\r\n              class=\"form-control\"\r\n              placeholder=\"Enter full name\"\r\n              [class.error]=\"bookingForm.get('passengerName')?.invalid && bookingForm.get('passengerName')?.touched\">\r\n            <div class=\"error-message\" *ngIf=\"bookingForm.get('passengerName')?.invalid && bookingForm.get('passengerName')?.touched\">\r\n              <span *ngIf=\"bookingForm.get('passengerName')?.errors?.['required']\">Name is required</span>\r\n              <span *ngIf=\"bookingForm.get('passengerName')?.errors?.['minlength']\">Name must be at least 2 characters</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label for=\"mobileNumber\">\r\n              ðŸ“± Mobile Number *\r\n            </label>\r\n            <input \r\n              type=\"tel\" \r\n              id=\"mobileNumber\" \r\n              formControlName=\"mobileNumber\"\r\n              class=\"form-control\"\r\n              placeholder=\"+8801XXXXXXXXX\"\r\n              [class.error]=\"bookingForm.get('mobileNumber')?.invalid && bookingForm.get('mobileNumber')?.touched\">\r\n            <div class=\"error-message\" *ngIf=\"bookingForm.get('mobileNumber')?.invalid && bookingForm.get('mobileNumber')?.touched\">\r\n              <span *ngIf=\"bookingForm.get('mobileNumber')?.errors?.['required']\">Mobile number is required</span>\r\n              <span *ngIf=\"bookingForm.get('mobileNumber')?.errors?.['pattern']\">Please enter a valid phone number</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label for=\"boardingPoint\">\r\n              ðŸš Boarding Point *\r\n            </label>\r\n            <select \r\n              id=\"boardingPoint\" \r\n              formControlName=\"boardingPoint\"\r\n              class=\"form-control\"\r\n              [class.error]=\"bookingForm.get('boardingPoint')?.invalid && bookingForm.get('boardingPoint')?.touched\">\r\n              <option value=\"\">Select boarding point</option>\r\n              <option *ngFor=\"let point of busDetails.boardingPoints\" [value]=\"point\">\r\n                {{ point }}\r\n              </option>\r\n            </select>\r\n            <div class=\"error-message\" *ngIf=\"bookingForm.get('boardingPoint')?.invalid && bookingForm.get('boardingPoint')?.touched\">\r\n              Please select a boarding point\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label for=\"droppingPoint\">\r\n              ðŸ Dropping Point *\r\n            </label>\r\n            <select \r\n              id=\"droppingPoint\" \r\n              formControlName=\"droppingPoint\"\r\n              class=\"form-control\"\r\n              [class.error]=\"bookingForm.get('droppingPoint')?.invalid && bookingForm.get('droppingPoint')?.touched\">\r\n              <option value=\"\">Select dropping point</option>\r\n              <option *ngFor=\"let point of busDetails.droppingPoints\" [value]=\"point\">\r\n                {{ point }}\r\n              </option>\r\n            </select>\r\n            <div class=\"error-message\" *ngIf=\"bookingForm.get('droppingPoint')?.invalid && bookingForm.get('droppingPoint')?.touched\">\r\n              Please select a dropping point\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"booking-summary\" *ngIf=\"selectedSeats.length > 0\">\r\n            <h3>Booking Summary</h3>\r\n            <div class=\"summary-item\">\r\n              <span>Seat Number:</span>\r\n              <strong>{{ selectedSeats.join(', ') }}</strong>\r\n            </div>\r\n            <div class=\"summary-item\">\r\n              <span>Fare:</span>\r\n              <strong>?{{ busDetails.price }}</strong>\r\n            </div>\r\n            <div class=\"summary-divider\"></div>\r\n            <div class=\"summary-item total\">\r\n              <span>Total Amount:</span>\r\n              <strong>?{{ busDetails.price * selectedSeats.length }}</strong>\r\n            </div>\r\n          </div>\r\n\r\n          <button \r\n            type=\"submit\" \r\n            class=\"btn btn-book\"\r\n            [disabled]=\"selectedSeats.length === 0 || bookingForm.invalid || bookingInProgress\">\r\n            <span *ngIf=\"!bookingInProgress\">\r\n              {{ selectedSeats.length > 0 ? 'Confirm Booking' : 'Select a Seat First' }}\r\n            </span>\r\n            <span *ngIf=\"bookingInProgress\">\r\n              Processing Booking...\r\n            </span>\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}